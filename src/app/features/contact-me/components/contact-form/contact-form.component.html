<h1>Send <span class="text-tertiary">Me</span> A <span class="text-tertiary">Message</span></h1>
<p>
  Please fill out the contact form below to get the ball rolling on a new project or just to say "hello". Allow up to
  one business day for a response depending on my current work load.
</p>

<form class="contact-form" (ngSubmit)="onSubmit()" [formGroup]="form" novalidate>
  <div class="form-group mb-4">
    <label for="name">Name</label>
    <input
      type="text"
      class="form-control"
      id="name"
      placeholder="Enter your name..."
      [class.is-invalid]="form.get('name').errors && submitted"
      [formControlName]="'name'"
    />
    <div *ngIf="form.get('name').errors && submitted" class="invalid-feedback">
      {{ getFirstErrorMessage('name') }}
    </div>
  </div>
  <div class="form-group mb-4">
    <label for="phone">Phone</label>
    <input
      type="text"
      class="form-control"
      id="phone"
      placeholder="Enter your phone number..."
      [class.is-invalid]="form.get('phone').errors && submitted"
      [formControlName]="'phone'"
    />
    <div *ngIf="form.get('phone').errors && submitted" class="invalid-feedback">
      {{ getFirstErrorMessage('phone') }}
    </div>
  </div>
  <div class="form-group mb-4">
    <label for="email">Email</label>
    <input
      type="text"
      class="form-control"
      id="email"
      placeholder="Enter your email..."
      [class.is-invalid]="form.get('email').errors && submitted"
      [formControlName]="'email'"
    />
    <div *ngIf="form.get('email').errors && submitted" class="invalid-feedback">
      {{ getFirstErrorMessage('email') }}
    </div>
  </div>
  <div class="form-group mb-5">
    <label for="message">Message</label>
    <textarea
      type="text"
      class="form-control"
      id="message"
      rows="7"
      placeholder="Enter your message..."
      [class.is-invalid]="form.get('message').errors && submitted"
      [formControlName]="'message'"
    ></textarea>
    <div *ngIf="form.get('message').errors && submitted" class="invalid-feedback">
      {{ getFirstErrorMessage('message') }}
    </div>
  </div>
  <div *ngIf="messageSent" class="alert alert-success mt-4 mb-5" role="alert">
    Message sent!
  </div>
  <button class="btn btn-primary mt-2 mb-5 d-inline-flex align-items-center" type="submit">
    <ng-container *ngIf="sendingMessage; else idle">
      <span class="spinner-border spinner-border-sm mr-2 contact-form__spinner" role="status" aria-hidden="true"></span>
      Sending
    </ng-container>
    <ng-template #idle>
      Submit
    </ng-template>
  </button>
</form>
